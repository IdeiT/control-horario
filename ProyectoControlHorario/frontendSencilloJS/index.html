<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Control Horario - API Tester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ• Sistema de Control Horario</h1>
        <p class="subtitle">Prueba todos los endpoints de tu API</p>

        <!-- SecciÃ³n de Registro -->
        <div class="section">
            <h2>ğŸ“ Registro de Usuario</h2>
            <div class="form-group">
                <input type="text" id="regUsername" placeholder="Username" required>
                <input type="password" id="regPassword" placeholder="Password" required>
                <input type="text" id="regDepartamento" placeholder="Departamento" required>
                <select id="regRol">
                    <option value="empleado">Empleado</option>
                    <option value="administrador">Administrador</option>
                </select>
                <button onclick="registrarUsuario()">Registrar</button>
            </div>
            <div id="regResponse" class="response"></div>
        </div>

        <!-- SecciÃ³n de Login -->
        <div class="section">
            <h2>ğŸ” Login</h2>
            <div class="form-group">
                <input type="text" id="loginUsername" placeholder="Username" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button onclick="loginUsuario()">Login</button>
            </div>
            <div id="loginResponse" class="response"></div>
            <div id="tokenDisplay" class="token-display"></div>
        </div>

        <!-- SecciÃ³n de Fichar (requiere token) -->
        <div class="section protected">
            <h2>â° Fichar Entrada/Salida</h2>
            <div class="form-group">
                <button onclick="fichar()" class="btn-primary">Registrar Fichaje</button>
            </div>
            <div id="ficharResponse" class="response"></div>
        </div>

        <!-- SecciÃ³n de Listar Fichajes -->
        <div class="section protected">
            <h2>ğŸ“‹ Listar Mis Fichajes</h2>
            <div class="form-group">
                <button onclick="listarFichajes()" class="btn-secondary">Ver Fichajes</button>
            </div>
            <div id="listarResponse" class="response"></div>
            <div id="fichajesTable"></div>
        </div>

        <!-- SecciÃ³n de Solicitar EdiciÃ³n -->
        <div class="section protected">
            <h2>âœï¸ Solicitar EdiciÃ³n de Fichaje</h2>
            <div class="form-group">
                <input type="date" id="edicionFecha" placeholder="Fecha actual" required>
                <input type="time" id="edicionHora" placeholder="Hora actual" required>
                <input type="date" id="edicionNuevaFecha" placeholder="Nueva fecha" required>
                <input type="time" id="edicionNuevaHora" placeholder="Nueva hora" required>
                <input type="text" id="edicionTipo" placeholder="Tipo (ENTRADA/SALIDA)" required>
                <input type="text" id="edicionUsoHorario" placeholder="Uso horario (ej: trabajar)" required>
                <button onclick="solicitarEdicion()">Solicitar EdiciÃ³n</button>
            </div>
            <div id="edicionResponse" class="response"></div>
        </div>

        <!-- BotÃ³n para cerrar sesiÃ³n -->
        <div class="section">
            <button onclick="cerrarSesion()" class="btn-danger">Cerrar SesiÃ³n</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>